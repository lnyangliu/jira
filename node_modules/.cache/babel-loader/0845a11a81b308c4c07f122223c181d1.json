{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _createSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createSuper\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _rcOverflow = _interopRequireDefault(require(\"rc-overflow\"));\n\nvar _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\n\nvar _KeyCode = _interopRequireDefault(require(\"rc-util/lib/KeyCode\"));\n\nvar _omit = _interopRequireDefault(require(\"rc-util/lib/omit\"));\n\nvar _MenuContext = require(\"./context/MenuContext\");\n\nvar _useActive2 = _interopRequireDefault(require(\"./hooks/useActive\"));\n\nvar _warnUtil = require(\"./utils/warnUtil\");\n\nvar _Icon = _interopRequireDefault(require(\"./Icon\"));\n\nvar _useDirectionStyle = _interopRequireDefault(require(\"./hooks/useDirectionStyle\"));\n\nvar _PathContext = require(\"./context/PathContext\");\n\nvar _IdContext = require(\"./context/IdContext\");\n\nvar _excluded = [\"title\", \"attribute\", \"elementRef\"],\n    _excluded2 = [\"style\", \"className\", \"eventKey\", \"warnKey\", \"disabled\", \"itemIcon\", \"children\", \"role\", \"onMouseEnter\", \"onMouseLeave\", \"onClick\", \"onKeyDown\", \"onFocus\"],\n    _excluded3 = [\"active\"]; // Since Menu event provide the `info.item` which point to the MenuItem node instance.\n// We have to use class component here.\n// This should be removed from doc & api in future.\n\nvar LegacyMenuItem = /*#__PURE__*/function (_React$Component) {\n  (0, _inherits2.default)(LegacyMenuItem, _React$Component);\n\n  var _super = (0, _createSuper2.default)(LegacyMenuItem);\n\n  function LegacyMenuItem() {\n    (0, _classCallCheck2.default)(this, LegacyMenuItem);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2.default)(LegacyMenuItem, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          title = _this$props.title,\n          attribute = _this$props.attribute,\n          elementRef = _this$props.elementRef,\n          restProps = (0, _objectWithoutProperties2.default)(_this$props, _excluded);\n      var passedProps = (0, _omit.default)(restProps, ['eventKey']);\n      (0, _warning.default)(!attribute, '`attribute` of Menu.Item is deprecated. Please pass attribute directly.');\n      return /*#__PURE__*/React.createElement(_rcOverflow.default.Item, (0, _extends2.default)({}, attribute, {\n        title: typeof title === 'string' ? title : undefined\n      }, passedProps, {\n        ref: elementRef\n      }));\n    }\n  }]);\n  return LegacyMenuItem;\n}(React.Component);\n/**\n * Real Menu Item component\n */\n\n\nvar InternalMenuItem = function InternalMenuItem(props) {\n  var _classNames;\n\n  var style = props.style,\n      className = props.className,\n      eventKey = props.eventKey,\n      warnKey = props.warnKey,\n      disabled = props.disabled,\n      itemIcon = props.itemIcon,\n      children = props.children,\n      role = props.role,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      onClick = props.onClick,\n      onKeyDown = props.onKeyDown,\n      onFocus = props.onFocus,\n      restProps = (0, _objectWithoutProperties2.default)(props, _excluded2);\n  var domDataId = (0, _IdContext.useMenuId)(eventKey);\n\n  var _React$useContext = React.useContext(_MenuContext.MenuContext),\n      prefixCls = _React$useContext.prefixCls,\n      onItemClick = _React$useContext.onItemClick,\n      contextDisabled = _React$useContext.disabled,\n      overflowDisabled = _React$useContext.overflowDisabled,\n      contextItemIcon = _React$useContext.itemIcon,\n      selectedKeys = _React$useContext.selectedKeys,\n      onActive = _React$useContext.onActive;\n\n  var itemCls = \"\".concat(prefixCls, \"-item\");\n  var legacyMenuItemRef = React.useRef();\n  var elementRef = React.useRef();\n  var mergedDisabled = contextDisabled || disabled;\n  var connectedKeys = (0, _PathContext.useFullPath)(eventKey); // ================================ Warn ================================\n\n  if (process.env.NODE_ENV !== 'production' && warnKey) {\n    (0, _warning.default)(false, 'MenuItem should not leave undefined `key`.');\n  } // ============================= Info =============================\n\n\n  var getEventInfo = function getEventInfo(e) {\n    return {\n      key: eventKey,\n      // Note: For legacy code is reversed which not like other antd component\n      keyPath: (0, _toConsumableArray2.default)(connectedKeys).reverse(),\n      item: legacyMenuItemRef.current,\n      domEvent: e\n    };\n  }; // ============================= Icon =============================\n\n\n  var mergedItemIcon = itemIcon || contextItemIcon; // ============================ Active ============================\n\n  var _useActive = (0, _useActive2.default)(eventKey, mergedDisabled, onMouseEnter, onMouseLeave),\n      active = _useActive.active,\n      activeProps = (0, _objectWithoutProperties2.default)(_useActive, _excluded3); // ============================ Select ============================\n\n\n  var selected = selectedKeys.includes(eventKey); // ======================== DirectionStyle ========================\n\n  var directionStyle = (0, _useDirectionStyle.default)(connectedKeys.length); // ============================ Events ============================\n\n  var onInternalClick = function onInternalClick(e) {\n    if (mergedDisabled) {\n      return;\n    }\n\n    var info = getEventInfo(e);\n    onClick === null || onClick === void 0 ? void 0 : onClick((0, _warnUtil.warnItemProp)(info));\n    onItemClick(info);\n  };\n\n  var onInternalKeyDown = function onInternalKeyDown(e) {\n    onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(e);\n\n    if (e.which === _KeyCode.default.ENTER) {\n      var info = getEventInfo(e); // Legacy. Key will also trigger click event\n\n      onClick === null || onClick === void 0 ? void 0 : onClick((0, _warnUtil.warnItemProp)(info));\n      onItemClick(info);\n    }\n  };\n  /**\n   * Used for accessibility. Helper will focus element without key board.\n   * We should manually trigger an active\n   */\n\n\n  var onInternalFocus = function onInternalFocus(e) {\n    onActive(eventKey);\n    onFocus === null || onFocus === void 0 ? void 0 : onFocus(e);\n  }; // ============================ Render ============================\n\n\n  var optionRoleProps = {};\n\n  if (props.role === 'option') {\n    optionRoleProps['aria-selected'] = selected;\n  }\n\n  return /*#__PURE__*/React.createElement(LegacyMenuItem, (0, _extends2.default)({\n    ref: legacyMenuItemRef,\n    elementRef: elementRef,\n    role: role === null ? 'none' : role || 'menuitem',\n    tabIndex: disabled ? null : -1,\n    \"data-menu-id\": overflowDisabled && domDataId ? null : domDataId\n  }, restProps, activeProps, optionRoleProps, {\n    component: \"li\",\n    \"aria-disabled\": disabled,\n    style: (0, _objectSpread2.default)((0, _objectSpread2.default)({}, directionStyle), style),\n    className: (0, _classnames.default)(itemCls, (_classNames = {}, (0, _defineProperty2.default)(_classNames, \"\".concat(itemCls, \"-active\"), active), (0, _defineProperty2.default)(_classNames, \"\".concat(itemCls, \"-selected\"), selected), (0, _defineProperty2.default)(_classNames, \"\".concat(itemCls, \"-disabled\"), mergedDisabled), _classNames), className),\n    onClick: onInternalClick,\n    onKeyDown: onInternalKeyDown,\n    onFocus: onInternalFocus\n  }), children, /*#__PURE__*/React.createElement(_Icon.default, {\n    props: (0, _objectSpread2.default)((0, _objectSpread2.default)({}, props), {}, {\n      isSelected: selected\n    }),\n    icon: mergedItemIcon\n  }));\n};\n\nfunction MenuItem(props) {\n  var eventKey = props.eventKey; // ==================== Record KeyPath ====================\n\n  var measure = (0, _PathContext.useMeasure)();\n  var connectedKeyPath = (0, _PathContext.useFullPath)(eventKey); // eslint-disable-next-line consistent-return\n\n  React.useEffect(function () {\n    if (measure) {\n      measure.registerPath(eventKey, connectedKeyPath);\n      return function () {\n        measure.unregisterPath(eventKey, connectedKeyPath);\n      };\n    }\n  }, [connectedKeyPath]);\n\n  if (measure) {\n    return null;\n  } // ======================== Render ========================\n\n\n  return /*#__PURE__*/React.createElement(InternalMenuItem, props);\n}\n\nvar _default = MenuItem;\nexports.default = _default;","map":{"version":3,"sources":["/Users/liuyang/Documents/yideng/jira/node_modules/rc-menu/lib/MenuItem.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","_defineProperty2","_objectSpread2","_toConsumableArray2","_extends2","_objectWithoutProperties2","_classCallCheck2","_createClass2","_inherits2","_createSuper2","React","_classnames","_rcOverflow","_warning","_KeyCode","_omit","_MenuContext","_useActive2","_warnUtil","_Icon","_useDirectionStyle","_PathContext","_IdContext","_excluded","_excluded2","_excluded3","LegacyMenuItem","_React$Component","_super","apply","arguments","key","render","_this$props","props","title","attribute","elementRef","restProps","passedProps","createElement","Item","undefined","ref","Component","InternalMenuItem","_classNames","style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus","domDataId","useMenuId","_React$useContext","useContext","MenuContext","prefixCls","onItemClick","contextDisabled","overflowDisabled","contextItemIcon","selectedKeys","onActive","itemCls","concat","legacyMenuItemRef","useRef","mergedDisabled","connectedKeys","useFullPath","process","env","NODE_ENV","getEventInfo","e","keyPath","reverse","item","current","domEvent","mergedItemIcon","_useActive","active","activeProps","selected","includes","directionStyle","length","onInternalClick","info","warnItemProp","onInternalKeyDown","which","ENTER","onInternalFocus","optionRoleProps","tabIndex","component","isSelected","icon","MenuItem","measure","useMeasure","connectedKeyPath","useEffect","registerPath","unregisterPath","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _createSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createSuper\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _rcOverflow = _interopRequireDefault(require(\"rc-overflow\"));\n\nvar _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\n\nvar _KeyCode = _interopRequireDefault(require(\"rc-util/lib/KeyCode\"));\n\nvar _omit = _interopRequireDefault(require(\"rc-util/lib/omit\"));\n\nvar _MenuContext = require(\"./context/MenuContext\");\n\nvar _useActive2 = _interopRequireDefault(require(\"./hooks/useActive\"));\n\nvar _warnUtil = require(\"./utils/warnUtil\");\n\nvar _Icon = _interopRequireDefault(require(\"./Icon\"));\n\nvar _useDirectionStyle = _interopRequireDefault(require(\"./hooks/useDirectionStyle\"));\n\nvar _PathContext = require(\"./context/PathContext\");\n\nvar _IdContext = require(\"./context/IdContext\");\n\nvar _excluded = [\"title\", \"attribute\", \"elementRef\"],\n    _excluded2 = [\"style\", \"className\", \"eventKey\", \"warnKey\", \"disabled\", \"itemIcon\", \"children\", \"role\", \"onMouseEnter\", \"onMouseLeave\", \"onClick\", \"onKeyDown\", \"onFocus\"],\n    _excluded3 = [\"active\"];\n\n// Since Menu event provide the `info.item` which point to the MenuItem node instance.\n// We have to use class component here.\n// This should be removed from doc & api in future.\nvar LegacyMenuItem = /*#__PURE__*/function (_React$Component) {\n  (0, _inherits2.default)(LegacyMenuItem, _React$Component);\n\n  var _super = (0, _createSuper2.default)(LegacyMenuItem);\n\n  function LegacyMenuItem() {\n    (0, _classCallCheck2.default)(this, LegacyMenuItem);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2.default)(LegacyMenuItem, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          title = _this$props.title,\n          attribute = _this$props.attribute,\n          elementRef = _this$props.elementRef,\n          restProps = (0, _objectWithoutProperties2.default)(_this$props, _excluded);\n      var passedProps = (0, _omit.default)(restProps, ['eventKey']);\n      (0, _warning.default)(!attribute, '`attribute` of Menu.Item is deprecated. Please pass attribute directly.');\n      return /*#__PURE__*/React.createElement(_rcOverflow.default.Item, (0, _extends2.default)({}, attribute, {\n        title: typeof title === 'string' ? title : undefined\n      }, passedProps, {\n        ref: elementRef\n      }));\n    }\n  }]);\n  return LegacyMenuItem;\n}(React.Component);\n/**\n * Real Menu Item component\n */\n\n\nvar InternalMenuItem = function InternalMenuItem(props) {\n  var _classNames;\n\n  var style = props.style,\n      className = props.className,\n      eventKey = props.eventKey,\n      warnKey = props.warnKey,\n      disabled = props.disabled,\n      itemIcon = props.itemIcon,\n      children = props.children,\n      role = props.role,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      onClick = props.onClick,\n      onKeyDown = props.onKeyDown,\n      onFocus = props.onFocus,\n      restProps = (0, _objectWithoutProperties2.default)(props, _excluded2);\n  var domDataId = (0, _IdContext.useMenuId)(eventKey);\n\n  var _React$useContext = React.useContext(_MenuContext.MenuContext),\n      prefixCls = _React$useContext.prefixCls,\n      onItemClick = _React$useContext.onItemClick,\n      contextDisabled = _React$useContext.disabled,\n      overflowDisabled = _React$useContext.overflowDisabled,\n      contextItemIcon = _React$useContext.itemIcon,\n      selectedKeys = _React$useContext.selectedKeys,\n      onActive = _React$useContext.onActive;\n\n  var itemCls = \"\".concat(prefixCls, \"-item\");\n  var legacyMenuItemRef = React.useRef();\n  var elementRef = React.useRef();\n  var mergedDisabled = contextDisabled || disabled;\n  var connectedKeys = (0, _PathContext.useFullPath)(eventKey); // ================================ Warn ================================\n\n  if (process.env.NODE_ENV !== 'production' && warnKey) {\n    (0, _warning.default)(false, 'MenuItem should not leave undefined `key`.');\n  } // ============================= Info =============================\n\n\n  var getEventInfo = function getEventInfo(e) {\n    return {\n      key: eventKey,\n      // Note: For legacy code is reversed which not like other antd component\n      keyPath: (0, _toConsumableArray2.default)(connectedKeys).reverse(),\n      item: legacyMenuItemRef.current,\n      domEvent: e\n    };\n  }; // ============================= Icon =============================\n\n\n  var mergedItemIcon = itemIcon || contextItemIcon; // ============================ Active ============================\n\n  var _useActive = (0, _useActive2.default)(eventKey, mergedDisabled, onMouseEnter, onMouseLeave),\n      active = _useActive.active,\n      activeProps = (0, _objectWithoutProperties2.default)(_useActive, _excluded3); // ============================ Select ============================\n\n\n  var selected = selectedKeys.includes(eventKey); // ======================== DirectionStyle ========================\n\n  var directionStyle = (0, _useDirectionStyle.default)(connectedKeys.length); // ============================ Events ============================\n\n  var onInternalClick = function onInternalClick(e) {\n    if (mergedDisabled) {\n      return;\n    }\n\n    var info = getEventInfo(e);\n    onClick === null || onClick === void 0 ? void 0 : onClick((0, _warnUtil.warnItemProp)(info));\n    onItemClick(info);\n  };\n\n  var onInternalKeyDown = function onInternalKeyDown(e) {\n    onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(e);\n\n    if (e.which === _KeyCode.default.ENTER) {\n      var info = getEventInfo(e); // Legacy. Key will also trigger click event\n\n      onClick === null || onClick === void 0 ? void 0 : onClick((0, _warnUtil.warnItemProp)(info));\n      onItemClick(info);\n    }\n  };\n  /**\n   * Used for accessibility. Helper will focus element without key board.\n   * We should manually trigger an active\n   */\n\n\n  var onInternalFocus = function onInternalFocus(e) {\n    onActive(eventKey);\n    onFocus === null || onFocus === void 0 ? void 0 : onFocus(e);\n  }; // ============================ Render ============================\n\n\n  var optionRoleProps = {};\n\n  if (props.role === 'option') {\n    optionRoleProps['aria-selected'] = selected;\n  }\n\n  return /*#__PURE__*/React.createElement(LegacyMenuItem, (0, _extends2.default)({\n    ref: legacyMenuItemRef,\n    elementRef: elementRef,\n    role: role === null ? 'none' : role || 'menuitem',\n    tabIndex: disabled ? null : -1,\n    \"data-menu-id\": overflowDisabled && domDataId ? null : domDataId\n  }, restProps, activeProps, optionRoleProps, {\n    component: \"li\",\n    \"aria-disabled\": disabled,\n    style: (0, _objectSpread2.default)((0, _objectSpread2.default)({}, directionStyle), style),\n    className: (0, _classnames.default)(itemCls, (_classNames = {}, (0, _defineProperty2.default)(_classNames, \"\".concat(itemCls, \"-active\"), active), (0, _defineProperty2.default)(_classNames, \"\".concat(itemCls, \"-selected\"), selected), (0, _defineProperty2.default)(_classNames, \"\".concat(itemCls, \"-disabled\"), mergedDisabled), _classNames), className),\n    onClick: onInternalClick,\n    onKeyDown: onInternalKeyDown,\n    onFocus: onInternalFocus\n  }), children, /*#__PURE__*/React.createElement(_Icon.default, {\n    props: (0, _objectSpread2.default)((0, _objectSpread2.default)({}, props), {}, {\n      isSelected: selected\n    }),\n    icon: mergedItemIcon\n  }));\n};\n\nfunction MenuItem(props) {\n  var eventKey = props.eventKey; // ==================== Record KeyPath ====================\n\n  var measure = (0, _PathContext.useMeasure)();\n  var connectedKeyPath = (0, _PathContext.useFullPath)(eventKey); // eslint-disable-next-line consistent-return\n\n  React.useEffect(function () {\n    if (measure) {\n      measure.registerPath(eventKey, connectedKeyPath);\n      return function () {\n        measure.unregisterPath(eventKey, connectedKeyPath);\n      };\n    }\n  }, [connectedKeyPath]);\n\n  if (measure) {\n    return null;\n  } // ======================== Render ========================\n\n\n  return /*#__PURE__*/React.createElement(InternalMenuItem, props);\n}\n\nvar _default = MenuItem;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}