{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _shallowequal = _interopRequireDefault(require(\"shallowequal\"));\n\nvar _useMergedState7 = _interopRequireDefault(require(\"rc-util/lib/hooks/useMergedState\"));\n\nvar _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\n\nvar _rcOverflow = _interopRequireDefault(require(\"rc-overflow\"));\n\nvar _MenuItem = _interopRequireDefault(require(\"./MenuItem\"));\n\nvar _nodeUtil = require(\"./utils/nodeUtil\");\n\nvar _MenuContext = _interopRequireDefault(require(\"./context/MenuContext\"));\n\nvar _useMemoCallback = _interopRequireDefault(require(\"./hooks/useMemoCallback\"));\n\nvar _warnUtil = require(\"./utils/warnUtil\");\n\nvar _SubMenu = _interopRequireDefault(require(\"./SubMenu\"));\n\nvar _useAccessibility = _interopRequireDefault(require(\"./hooks/useAccessibility\"));\n\nvar _useUUID = _interopRequireDefault(require(\"./hooks/useUUID\"));\n\nvar _PathContext = require(\"./context/PathContext\");\n\nvar _useKeyRecords2 = _interopRequireWildcard(require(\"./hooks/useKeyRecords\"));\n\nvar _IdContext = require(\"./context/IdContext\");\n\nvar _excluded = [\"prefixCls\", \"style\", \"className\", \"tabIndex\", \"children\", \"direction\", \"id\", \"mode\", \"inlineCollapsed\", \"disabled\", \"disabledOverflow\", \"subMenuOpenDelay\", \"subMenuCloseDelay\", \"forceSubMenuRender\", \"defaultOpenKeys\", \"openKeys\", \"activeKey\", \"defaultActiveFirst\", \"selectable\", \"multiple\", \"defaultSelectedKeys\", \"selectedKeys\", \"onSelect\", \"onDeselect\", \"inlineIndent\", \"motion\", \"defaultMotions\", \"triggerSubMenuAction\", \"builtinPlacements\", \"itemIcon\", \"expandIcon\", \"overflowedIndicator\", \"overflowedIndicatorPopupClassName\", \"getPopupContainer\", \"onClick\", \"onOpenChange\", \"onKeyDown\", \"openAnimation\", \"openTransitionName\"];\n/**\n * Menu modify after refactor:\n * ## Add\n * - disabled\n *\n * ## Remove\n * - openTransitionName\n * - openAnimation\n * - onDestroy\n * - siderCollapsed: Seems antd do not use this prop (Need test in antd)\n * - collapsedWidth: Seems this logic should be handle by antd Layout.Sider\n */\n// optimize for render\n\nvar EMPTY_LIST = [];\n\nvar Menu = function Menu(props) {\n  var _childList$, _classNames;\n\n  var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-menu' : _props$prefixCls,\n      style = props.style,\n      className = props.className,\n      _props$tabIndex = props.tabIndex,\n      tabIndex = _props$tabIndex === void 0 ? 0 : _props$tabIndex,\n      children = props.children,\n      direction = props.direction,\n      id = props.id,\n      _props$mode = props.mode,\n      mode = _props$mode === void 0 ? 'vertical' : _props$mode,\n      inlineCollapsed = props.inlineCollapsed,\n      disabled = props.disabled,\n      disabledOverflow = props.disabledOverflow,\n      _props$subMenuOpenDel = props.subMenuOpenDelay,\n      subMenuOpenDelay = _props$subMenuOpenDel === void 0 ? 0.1 : _props$subMenuOpenDel,\n      _props$subMenuCloseDe = props.subMenuCloseDelay,\n      subMenuCloseDelay = _props$subMenuCloseDe === void 0 ? 0.1 : _props$subMenuCloseDe,\n      forceSubMenuRender = props.forceSubMenuRender,\n      defaultOpenKeys = props.defaultOpenKeys,\n      openKeys = props.openKeys,\n      activeKey = props.activeKey,\n      defaultActiveFirst = props.defaultActiveFirst,\n      _props$selectable = props.selectable,\n      selectable = _props$selectable === void 0 ? true : _props$selectable,\n      _props$multiple = props.multiple,\n      multiple = _props$multiple === void 0 ? false : _props$multiple,\n      defaultSelectedKeys = props.defaultSelectedKeys,\n      selectedKeys = props.selectedKeys,\n      onSelect = props.onSelect,\n      onDeselect = props.onDeselect,\n      _props$inlineIndent = props.inlineIndent,\n      inlineIndent = _props$inlineIndent === void 0 ? 24 : _props$inlineIndent,\n      motion = props.motion,\n      defaultMotions = props.defaultMotions,\n      _props$triggerSubMenu = props.triggerSubMenuAction,\n      triggerSubMenuAction = _props$triggerSubMenu === void 0 ? 'hover' : _props$triggerSubMenu,\n      builtinPlacements = props.builtinPlacements,\n      itemIcon = props.itemIcon,\n      expandIcon = props.expandIcon,\n      _props$overflowedIndi = props.overflowedIndicator,\n      overflowedIndicator = _props$overflowedIndi === void 0 ? '...' : _props$overflowedIndi,\n      overflowedIndicatorPopupClassName = props.overflowedIndicatorPopupClassName,\n      getPopupContainer = props.getPopupContainer,\n      onClick = props.onClick,\n      onOpenChange = props.onOpenChange,\n      onKeyDown = props.onKeyDown,\n      openAnimation = props.openAnimation,\n      openTransitionName = props.openTransitionName,\n      restProps = (0, _objectWithoutProperties2.default)(props, _excluded);\n  var childList = (0, _nodeUtil.parseChildren)(children, EMPTY_LIST);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      mounted = _React$useState2[0],\n      setMounted = _React$useState2[1];\n\n  var containerRef = React.useRef();\n  var uuid = (0, _useUUID.default)(id);\n  var isRtl = direction === 'rtl'; // ========================= Warn =========================\n\n  if (process.env.NODE_ENV !== 'production') {\n    (0, _warning.default)(!openAnimation && !openTransitionName, '`openAnimation` and `openTransitionName` is removed. Please use `motion` or `defaultMotion` instead.');\n  } // ========================= Mode =========================\n\n\n  var _React$useMemo = React.useMemo(function () {\n    if ((mode === 'inline' || mode === 'vertical') && inlineCollapsed) {\n      return ['vertical', inlineCollapsed];\n    }\n\n    return [mode, false];\n  }, [mode, inlineCollapsed]),\n      _React$useMemo2 = (0, _slicedToArray2.default)(_React$useMemo, 2),\n      mergedMode = _React$useMemo2[0],\n      mergedInlineCollapsed = _React$useMemo2[1]; // ====================== Responsive ======================\n\n\n  var _React$useState3 = React.useState(0),\n      _React$useState4 = (0, _slicedToArray2.default)(_React$useState3, 2),\n      lastVisibleIndex = _React$useState4[0],\n      setLastVisibleIndex = _React$useState4[1];\n\n  var allVisible = lastVisibleIndex >= childList.length - 1 || mergedMode !== 'horizontal' || disabledOverflow; // ========================= Open =========================\n\n  var _useMergedState = (0, _useMergedState7.default)(defaultOpenKeys, {\n    value: openKeys,\n    postState: function postState(keys) {\n      return keys || EMPTY_LIST;\n    }\n  }),\n      _useMergedState2 = (0, _slicedToArray2.default)(_useMergedState, 2),\n      mergedOpenKeys = _useMergedState2[0],\n      setMergedOpenKeys = _useMergedState2[1];\n\n  var triggerOpenKeys = function triggerOpenKeys(keys) {\n    setMergedOpenKeys(keys);\n    onOpenChange === null || onOpenChange === void 0 ? void 0 : onOpenChange(keys);\n  }; // >>>>> Cache & Reset open keys when inlineCollapsed changed\n\n\n  var _React$useState5 = React.useState(mergedOpenKeys),\n      _React$useState6 = (0, _slicedToArray2.default)(_React$useState5, 2),\n      inlineCacheOpenKeys = _React$useState6[0],\n      setInlineCacheOpenKeys = _React$useState6[1];\n\n  var isInlineMode = mergedMode === 'inline';\n  var mountRef = React.useRef(false); // Cache\n\n  React.useEffect(function () {\n    if (isInlineMode) {\n      setInlineCacheOpenKeys(mergedOpenKeys);\n    }\n  }, [mergedOpenKeys]); // Restore\n\n  React.useEffect(function () {\n    if (!mountRef.current) {\n      mountRef.current = true;\n      return;\n    }\n\n    if (isInlineMode) {\n      setMergedOpenKeys(inlineCacheOpenKeys);\n    } else {\n      // Trigger open event in case its in control\n      triggerOpenKeys(EMPTY_LIST);\n    }\n  }, [isInlineMode]); // ========================= Path =========================\n\n  var _useKeyRecords = (0, _useKeyRecords2.default)(),\n      registerPath = _useKeyRecords.registerPath,\n      unregisterPath = _useKeyRecords.unregisterPath,\n      refreshOverflowKeys = _useKeyRecords.refreshOverflowKeys,\n      isSubPathKey = _useKeyRecords.isSubPathKey,\n      getKeyPath = _useKeyRecords.getKeyPath,\n      getKeys = _useKeyRecords.getKeys,\n      getSubPathKeys = _useKeyRecords.getSubPathKeys;\n\n  var registerPathContext = React.useMemo(function () {\n    return {\n      registerPath: registerPath,\n      unregisterPath: unregisterPath\n    };\n  }, [registerPath, unregisterPath]);\n  var pathUserContext = React.useMemo(function () {\n    return {\n      isSubPathKey: isSubPathKey\n    };\n  }, [isSubPathKey]);\n  React.useEffect(function () {\n    refreshOverflowKeys(allVisible ? EMPTY_LIST : childList.slice(lastVisibleIndex + 1).map(function (child) {\n      return child.key;\n    }));\n  }, [lastVisibleIndex, allVisible]); // ======================== Active ========================\n\n  var _useMergedState3 = (0, _useMergedState7.default)(activeKey || defaultActiveFirst && ((_childList$ = childList[0]) === null || _childList$ === void 0 ? void 0 : _childList$.key), {\n    value: activeKey\n  }),\n      _useMergedState4 = (0, _slicedToArray2.default)(_useMergedState3, 2),\n      mergedActiveKey = _useMergedState4[0],\n      setMergedActiveKey = _useMergedState4[1];\n\n  var onActive = (0, _useMemoCallback.default)(function (key) {\n    setMergedActiveKey(key);\n  });\n  var onInactive = (0, _useMemoCallback.default)(function () {\n    setMergedActiveKey(undefined);\n  }); // ======================== Select ========================\n  // >>>>> Select keys\n\n  var _useMergedState5 = (0, _useMergedState7.default)(defaultSelectedKeys || [], {\n    value: selectedKeys,\n    // Legacy convert key to array\n    postState: function postState(keys) {\n      if (Array.isArray(keys)) {\n        return keys;\n      }\n\n      if (keys === null || keys === undefined) {\n        return EMPTY_LIST;\n      }\n\n      return [keys];\n    }\n  }),\n      _useMergedState6 = (0, _slicedToArray2.default)(_useMergedState5, 2),\n      mergedSelectKeys = _useMergedState6[0],\n      setMergedSelectKeys = _useMergedState6[1]; // >>>>> Trigger select\n\n\n  var triggerSelection = function triggerSelection(info) {\n    if (selectable) {\n      // Insert or Remove\n      var targetKey = info.key;\n      var exist = mergedSelectKeys.includes(targetKey);\n      var newSelectKeys;\n\n      if (multiple) {\n        if (exist) {\n          newSelectKeys = mergedSelectKeys.filter(function (key) {\n            return key !== targetKey;\n          });\n        } else {\n          newSelectKeys = [].concat((0, _toConsumableArray2.default)(mergedSelectKeys), [targetKey]);\n        }\n      } else {\n        newSelectKeys = [targetKey];\n      }\n\n      setMergedSelectKeys(newSelectKeys); // Trigger event\n\n      var selectInfo = (0, _objectSpread2.default)((0, _objectSpread2.default)({}, info), {}, {\n        selectedKeys: newSelectKeys\n      });\n\n      if (exist) {\n        onDeselect === null || onDeselect === void 0 ? void 0 : onDeselect(selectInfo);\n      } else {\n        onSelect === null || onSelect === void 0 ? void 0 : onSelect(selectInfo);\n      }\n    } // Whatever selectable, always close it\n\n\n    if (!multiple && mergedOpenKeys.length && mergedMode !== 'inline') {\n      triggerOpenKeys(EMPTY_LIST);\n    }\n  }; // ========================= Open =========================\n\n  /**\n   * Click for item. SubMenu do not have selection status\n   */\n\n\n  var onInternalClick = (0, _useMemoCallback.default)(function (info) {\n    onClick === null || onClick === void 0 ? void 0 : onClick((0, _warnUtil.warnItemProp)(info));\n    triggerSelection(info);\n  });\n  var onInternalOpenChange = (0, _useMemoCallback.default)(function (key, open) {\n    var newOpenKeys = mergedOpenKeys.filter(function (k) {\n      return k !== key;\n    });\n\n    if (open) {\n      newOpenKeys.push(key);\n    } else if (mergedMode !== 'inline') {\n      // We need find all related popup to close\n      var subPathKeys = getSubPathKeys(key);\n      newOpenKeys = newOpenKeys.filter(function (k) {\n        return !subPathKeys.has(k);\n      });\n    }\n\n    if (!(0, _shallowequal.default)(mergedOpenKeys, newOpenKeys)) {\n      triggerOpenKeys(newOpenKeys);\n    }\n  });\n  var getInternalPopupContainer = (0, _useMemoCallback.default)(getPopupContainer); // ==================== Accessibility =====================\n\n  var triggerAccessibilityOpen = function triggerAccessibilityOpen(key, open) {\n    var nextOpen = open !== null && open !== void 0 ? open : !mergedOpenKeys.includes(key);\n    onInternalOpenChange(key, nextOpen);\n  };\n\n  var onInternalKeyDown = (0, _useAccessibility.default)(mergedMode, mergedActiveKey, isRtl, uuid, containerRef, getKeys, getKeyPath, setMergedActiveKey, triggerAccessibilityOpen, onKeyDown); // ======================== Effect ========================\n\n  React.useEffect(function () {\n    setMounted(true);\n  }, []); // ======================== Render ========================\n  // >>>>> Children\n\n  var wrappedChildList = mergedMode !== 'horizontal' || disabledOverflow ? childList : // Need wrap for overflow dropdown that do not response for open\n  childList.map(function (child, index) {\n    return (\n      /*#__PURE__*/\n      // Always wrap provider to avoid sub node re-mount\n      React.createElement(_MenuContext.default, {\n        key: child.key,\n        overflowDisabled: index > lastVisibleIndex\n      }, child)\n    );\n  }); // >>>>> Container\n\n  var container = /*#__PURE__*/React.createElement(_rcOverflow.default, (0, _extends2.default)({\n    id: id,\n    ref: containerRef,\n    prefixCls: \"\".concat(prefixCls, \"-overflow\"),\n    component: \"ul\",\n    itemComponent: _MenuItem.default,\n    className: (0, _classnames.default)(prefixCls, \"\".concat(prefixCls, \"-root\"), \"\".concat(prefixCls, \"-\").concat(mergedMode), className, (_classNames = {}, (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-inline-collapsed\"), mergedInlineCollapsed), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-rtl\"), isRtl), _classNames)),\n    dir: direction,\n    style: style,\n    role: \"menu\",\n    tabIndex: tabIndex,\n    data: wrappedChildList,\n    renderRawItem: function renderRawItem(node) {\n      return node;\n    },\n    renderRawRest: function renderRawRest(omitItems) {\n      // We use origin list since wrapped list use context to prevent open\n      var len = omitItems.length;\n      var originOmitItems = len ? childList.slice(-len) : null;\n      return /*#__PURE__*/React.createElement(_SubMenu.default, {\n        eventKey: _useKeyRecords2.OVERFLOW_KEY,\n        title: overflowedIndicator,\n        disabled: allVisible,\n        internalPopupClose: len === 0,\n        popupClassName: overflowedIndicatorPopupClassName\n      }, originOmitItems);\n    },\n    maxCount: mergedMode !== 'horizontal' || disabledOverflow ? _rcOverflow.default.INVALIDATE : _rcOverflow.default.RESPONSIVE,\n    ssr: \"full\",\n    \"data-menu-list\": true,\n    onVisibleChange: function onVisibleChange(newLastIndex) {\n      setLastVisibleIndex(newLastIndex);\n    },\n    onKeyDown: onInternalKeyDown\n  }, restProps)); // >>>>> Render\n\n  return /*#__PURE__*/React.createElement(_IdContext.IdContext.Provider, {\n    value: uuid\n  }, /*#__PURE__*/React.createElement(_MenuContext.default, {\n    prefixCls: prefixCls,\n    mode: mergedMode,\n    openKeys: mergedOpenKeys,\n    rtl: isRtl // Disabled\n    ,\n    disabled: disabled // Motion\n    ,\n    motion: mounted ? motion : null,\n    defaultMotions: mounted ? defaultMotions : null // Active\n    ,\n    activeKey: mergedActiveKey,\n    onActive: onActive,\n    onInactive: onInactive // Selection\n    ,\n    selectedKeys: mergedSelectKeys // Level\n    ,\n    inlineIndent: inlineIndent // Popup\n    ,\n    subMenuOpenDelay: subMenuOpenDelay,\n    subMenuCloseDelay: subMenuCloseDelay,\n    forceSubMenuRender: forceSubMenuRender,\n    builtinPlacements: builtinPlacements,\n    triggerSubMenuAction: triggerSubMenuAction,\n    getPopupContainer: getInternalPopupContainer // Icon\n    ,\n    itemIcon: itemIcon,\n    expandIcon: expandIcon // Events\n    ,\n    onItemClick: onInternalClick,\n    onOpenChange: onInternalOpenChange\n  }, /*#__PURE__*/React.createElement(_PathContext.PathUserContext.Provider, {\n    value: pathUserContext\n  }, container), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'none'\n    },\n    \"aria-hidden\": true\n  }, /*#__PURE__*/React.createElement(_PathContext.PathRegisterContext.Provider, {\n    value: registerPathContext\n  }, childList))));\n};\n\nvar _default = Menu;\nexports.default = _default;","map":{"version":3,"sources":["/Users/liuyang/Documents/yideng/jira/node_modules/rc-menu/lib/Menu.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","_extends2","_defineProperty2","_objectSpread2","_toConsumableArray2","_slicedToArray2","_objectWithoutProperties2","React","_classnames","_shallowequal","_useMergedState7","_warning","_rcOverflow","_MenuItem","_nodeUtil","_MenuContext","_useMemoCallback","_warnUtil","_SubMenu","_useAccessibility","_useUUID","_PathContext","_useKeyRecords2","_IdContext","_excluded","EMPTY_LIST","Menu","props","_childList$","_classNames","_props$prefixCls","prefixCls","style","className","_props$tabIndex","tabIndex","children","direction","id","_props$mode","mode","inlineCollapsed","disabled","disabledOverflow","_props$subMenuOpenDel","subMenuOpenDelay","_props$subMenuCloseDe","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","_props$selectable","selectable","_props$multiple","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","_props$inlineIndent","inlineIndent","motion","defaultMotions","_props$triggerSubMenu","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","_props$overflowedIndi","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","restProps","childList","parseChildren","_React$useState","useState","_React$useState2","mounted","setMounted","containerRef","useRef","uuid","isRtl","process","env","NODE_ENV","_React$useMemo","useMemo","_React$useMemo2","mergedMode","mergedInlineCollapsed","_React$useState3","_React$useState4","lastVisibleIndex","setLastVisibleIndex","allVisible","length","_useMergedState","postState","keys","_useMergedState2","mergedOpenKeys","setMergedOpenKeys","triggerOpenKeys","_React$useState5","_React$useState6","inlineCacheOpenKeys","setInlineCacheOpenKeys","isInlineMode","mountRef","useEffect","current","_useKeyRecords","registerPath","unregisterPath","refreshOverflowKeys","isSubPathKey","getKeyPath","getKeys","getSubPathKeys","registerPathContext","pathUserContext","slice","map","child","key","_useMergedState3","_useMergedState4","mergedActiveKey","setMergedActiveKey","onActive","onInactive","undefined","_useMergedState5","Array","isArray","_useMergedState6","mergedSelectKeys","setMergedSelectKeys","triggerSelection","info","targetKey","exist","includes","newSelectKeys","filter","concat","selectInfo","onInternalClick","warnItemProp","onInternalOpenChange","open","newOpenKeys","k","push","subPathKeys","has","getInternalPopupContainer","triggerAccessibilityOpen","nextOpen","onInternalKeyDown","wrappedChildList","index","createElement","overflowDisabled","container","ref","component","itemComponent","dir","role","data","renderRawItem","node","renderRawRest","omitItems","len","originOmitItems","eventKey","OVERFLOW_KEY","title","internalPopupClose","popupClassName","maxCount","INVALIDATE","RESPONSIVE","ssr","onVisibleChange","newLastIndex","IdContext","Provider","rtl","onItemClick","PathUserContext","display","PathRegisterContext","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _shallowequal = _interopRequireDefault(require(\"shallowequal\"));\n\nvar _useMergedState7 = _interopRequireDefault(require(\"rc-util/lib/hooks/useMergedState\"));\n\nvar _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\n\nvar _rcOverflow = _interopRequireDefault(require(\"rc-overflow\"));\n\nvar _MenuItem = _interopRequireDefault(require(\"./MenuItem\"));\n\nvar _nodeUtil = require(\"./utils/nodeUtil\");\n\nvar _MenuContext = _interopRequireDefault(require(\"./context/MenuContext\"));\n\nvar _useMemoCallback = _interopRequireDefault(require(\"./hooks/useMemoCallback\"));\n\nvar _warnUtil = require(\"./utils/warnUtil\");\n\nvar _SubMenu = _interopRequireDefault(require(\"./SubMenu\"));\n\nvar _useAccessibility = _interopRequireDefault(require(\"./hooks/useAccessibility\"));\n\nvar _useUUID = _interopRequireDefault(require(\"./hooks/useUUID\"));\n\nvar _PathContext = require(\"./context/PathContext\");\n\nvar _useKeyRecords2 = _interopRequireWildcard(require(\"./hooks/useKeyRecords\"));\n\nvar _IdContext = require(\"./context/IdContext\");\n\nvar _excluded = [\"prefixCls\", \"style\", \"className\", \"tabIndex\", \"children\", \"direction\", \"id\", \"mode\", \"inlineCollapsed\", \"disabled\", \"disabledOverflow\", \"subMenuOpenDelay\", \"subMenuCloseDelay\", \"forceSubMenuRender\", \"defaultOpenKeys\", \"openKeys\", \"activeKey\", \"defaultActiveFirst\", \"selectable\", \"multiple\", \"defaultSelectedKeys\", \"selectedKeys\", \"onSelect\", \"onDeselect\", \"inlineIndent\", \"motion\", \"defaultMotions\", \"triggerSubMenuAction\", \"builtinPlacements\", \"itemIcon\", \"expandIcon\", \"overflowedIndicator\", \"overflowedIndicatorPopupClassName\", \"getPopupContainer\", \"onClick\", \"onOpenChange\", \"onKeyDown\", \"openAnimation\", \"openTransitionName\"];\n\n/**\n * Menu modify after refactor:\n * ## Add\n * - disabled\n *\n * ## Remove\n * - openTransitionName\n * - openAnimation\n * - onDestroy\n * - siderCollapsed: Seems antd do not use this prop (Need test in antd)\n * - collapsedWidth: Seems this logic should be handle by antd Layout.Sider\n */\n// optimize for render\nvar EMPTY_LIST = [];\n\nvar Menu = function Menu(props) {\n  var _childList$, _classNames;\n\n  var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-menu' : _props$prefixCls,\n      style = props.style,\n      className = props.className,\n      _props$tabIndex = props.tabIndex,\n      tabIndex = _props$tabIndex === void 0 ? 0 : _props$tabIndex,\n      children = props.children,\n      direction = props.direction,\n      id = props.id,\n      _props$mode = props.mode,\n      mode = _props$mode === void 0 ? 'vertical' : _props$mode,\n      inlineCollapsed = props.inlineCollapsed,\n      disabled = props.disabled,\n      disabledOverflow = props.disabledOverflow,\n      _props$subMenuOpenDel = props.subMenuOpenDelay,\n      subMenuOpenDelay = _props$subMenuOpenDel === void 0 ? 0.1 : _props$subMenuOpenDel,\n      _props$subMenuCloseDe = props.subMenuCloseDelay,\n      subMenuCloseDelay = _props$subMenuCloseDe === void 0 ? 0.1 : _props$subMenuCloseDe,\n      forceSubMenuRender = props.forceSubMenuRender,\n      defaultOpenKeys = props.defaultOpenKeys,\n      openKeys = props.openKeys,\n      activeKey = props.activeKey,\n      defaultActiveFirst = props.defaultActiveFirst,\n      _props$selectable = props.selectable,\n      selectable = _props$selectable === void 0 ? true : _props$selectable,\n      _props$multiple = props.multiple,\n      multiple = _props$multiple === void 0 ? false : _props$multiple,\n      defaultSelectedKeys = props.defaultSelectedKeys,\n      selectedKeys = props.selectedKeys,\n      onSelect = props.onSelect,\n      onDeselect = props.onDeselect,\n      _props$inlineIndent = props.inlineIndent,\n      inlineIndent = _props$inlineIndent === void 0 ? 24 : _props$inlineIndent,\n      motion = props.motion,\n      defaultMotions = props.defaultMotions,\n      _props$triggerSubMenu = props.triggerSubMenuAction,\n      triggerSubMenuAction = _props$triggerSubMenu === void 0 ? 'hover' : _props$triggerSubMenu,\n      builtinPlacements = props.builtinPlacements,\n      itemIcon = props.itemIcon,\n      expandIcon = props.expandIcon,\n      _props$overflowedIndi = props.overflowedIndicator,\n      overflowedIndicator = _props$overflowedIndi === void 0 ? '...' : _props$overflowedIndi,\n      overflowedIndicatorPopupClassName = props.overflowedIndicatorPopupClassName,\n      getPopupContainer = props.getPopupContainer,\n      onClick = props.onClick,\n      onOpenChange = props.onOpenChange,\n      onKeyDown = props.onKeyDown,\n      openAnimation = props.openAnimation,\n      openTransitionName = props.openTransitionName,\n      restProps = (0, _objectWithoutProperties2.default)(props, _excluded);\n  var childList = (0, _nodeUtil.parseChildren)(children, EMPTY_LIST);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      mounted = _React$useState2[0],\n      setMounted = _React$useState2[1];\n\n  var containerRef = React.useRef();\n  var uuid = (0, _useUUID.default)(id);\n  var isRtl = direction === 'rtl'; // ========================= Warn =========================\n\n  if (process.env.NODE_ENV !== 'production') {\n    (0, _warning.default)(!openAnimation && !openTransitionName, '`openAnimation` and `openTransitionName` is removed. Please use `motion` or `defaultMotion` instead.');\n  } // ========================= Mode =========================\n\n\n  var _React$useMemo = React.useMemo(function () {\n    if ((mode === 'inline' || mode === 'vertical') && inlineCollapsed) {\n      return ['vertical', inlineCollapsed];\n    }\n\n    return [mode, false];\n  }, [mode, inlineCollapsed]),\n      _React$useMemo2 = (0, _slicedToArray2.default)(_React$useMemo, 2),\n      mergedMode = _React$useMemo2[0],\n      mergedInlineCollapsed = _React$useMemo2[1]; // ====================== Responsive ======================\n\n\n  var _React$useState3 = React.useState(0),\n      _React$useState4 = (0, _slicedToArray2.default)(_React$useState3, 2),\n      lastVisibleIndex = _React$useState4[0],\n      setLastVisibleIndex = _React$useState4[1];\n\n  var allVisible = lastVisibleIndex >= childList.length - 1 || mergedMode !== 'horizontal' || disabledOverflow; // ========================= Open =========================\n\n  var _useMergedState = (0, _useMergedState7.default)(defaultOpenKeys, {\n    value: openKeys,\n    postState: function postState(keys) {\n      return keys || EMPTY_LIST;\n    }\n  }),\n      _useMergedState2 = (0, _slicedToArray2.default)(_useMergedState, 2),\n      mergedOpenKeys = _useMergedState2[0],\n      setMergedOpenKeys = _useMergedState2[1];\n\n  var triggerOpenKeys = function triggerOpenKeys(keys) {\n    setMergedOpenKeys(keys);\n    onOpenChange === null || onOpenChange === void 0 ? void 0 : onOpenChange(keys);\n  }; // >>>>> Cache & Reset open keys when inlineCollapsed changed\n\n\n  var _React$useState5 = React.useState(mergedOpenKeys),\n      _React$useState6 = (0, _slicedToArray2.default)(_React$useState5, 2),\n      inlineCacheOpenKeys = _React$useState6[0],\n      setInlineCacheOpenKeys = _React$useState6[1];\n\n  var isInlineMode = mergedMode === 'inline';\n  var mountRef = React.useRef(false); // Cache\n\n  React.useEffect(function () {\n    if (isInlineMode) {\n      setInlineCacheOpenKeys(mergedOpenKeys);\n    }\n  }, [mergedOpenKeys]); // Restore\n\n  React.useEffect(function () {\n    if (!mountRef.current) {\n      mountRef.current = true;\n      return;\n    }\n\n    if (isInlineMode) {\n      setMergedOpenKeys(inlineCacheOpenKeys);\n    } else {\n      // Trigger open event in case its in control\n      triggerOpenKeys(EMPTY_LIST);\n    }\n  }, [isInlineMode]); // ========================= Path =========================\n\n  var _useKeyRecords = (0, _useKeyRecords2.default)(),\n      registerPath = _useKeyRecords.registerPath,\n      unregisterPath = _useKeyRecords.unregisterPath,\n      refreshOverflowKeys = _useKeyRecords.refreshOverflowKeys,\n      isSubPathKey = _useKeyRecords.isSubPathKey,\n      getKeyPath = _useKeyRecords.getKeyPath,\n      getKeys = _useKeyRecords.getKeys,\n      getSubPathKeys = _useKeyRecords.getSubPathKeys;\n\n  var registerPathContext = React.useMemo(function () {\n    return {\n      registerPath: registerPath,\n      unregisterPath: unregisterPath\n    };\n  }, [registerPath, unregisterPath]);\n  var pathUserContext = React.useMemo(function () {\n    return {\n      isSubPathKey: isSubPathKey\n    };\n  }, [isSubPathKey]);\n  React.useEffect(function () {\n    refreshOverflowKeys(allVisible ? EMPTY_LIST : childList.slice(lastVisibleIndex + 1).map(function (child) {\n      return child.key;\n    }));\n  }, [lastVisibleIndex, allVisible]); // ======================== Active ========================\n\n  var _useMergedState3 = (0, _useMergedState7.default)(activeKey || defaultActiveFirst && ((_childList$ = childList[0]) === null || _childList$ === void 0 ? void 0 : _childList$.key), {\n    value: activeKey\n  }),\n      _useMergedState4 = (0, _slicedToArray2.default)(_useMergedState3, 2),\n      mergedActiveKey = _useMergedState4[0],\n      setMergedActiveKey = _useMergedState4[1];\n\n  var onActive = (0, _useMemoCallback.default)(function (key) {\n    setMergedActiveKey(key);\n  });\n  var onInactive = (0, _useMemoCallback.default)(function () {\n    setMergedActiveKey(undefined);\n  }); // ======================== Select ========================\n  // >>>>> Select keys\n\n  var _useMergedState5 = (0, _useMergedState7.default)(defaultSelectedKeys || [], {\n    value: selectedKeys,\n    // Legacy convert key to array\n    postState: function postState(keys) {\n      if (Array.isArray(keys)) {\n        return keys;\n      }\n\n      if (keys === null || keys === undefined) {\n        return EMPTY_LIST;\n      }\n\n      return [keys];\n    }\n  }),\n      _useMergedState6 = (0, _slicedToArray2.default)(_useMergedState5, 2),\n      mergedSelectKeys = _useMergedState6[0],\n      setMergedSelectKeys = _useMergedState6[1]; // >>>>> Trigger select\n\n\n  var triggerSelection = function triggerSelection(info) {\n    if (selectable) {\n      // Insert or Remove\n      var targetKey = info.key;\n      var exist = mergedSelectKeys.includes(targetKey);\n      var newSelectKeys;\n\n      if (multiple) {\n        if (exist) {\n          newSelectKeys = mergedSelectKeys.filter(function (key) {\n            return key !== targetKey;\n          });\n        } else {\n          newSelectKeys = [].concat((0, _toConsumableArray2.default)(mergedSelectKeys), [targetKey]);\n        }\n      } else {\n        newSelectKeys = [targetKey];\n      }\n\n      setMergedSelectKeys(newSelectKeys); // Trigger event\n\n      var selectInfo = (0, _objectSpread2.default)((0, _objectSpread2.default)({}, info), {}, {\n        selectedKeys: newSelectKeys\n      });\n\n      if (exist) {\n        onDeselect === null || onDeselect === void 0 ? void 0 : onDeselect(selectInfo);\n      } else {\n        onSelect === null || onSelect === void 0 ? void 0 : onSelect(selectInfo);\n      }\n    } // Whatever selectable, always close it\n\n\n    if (!multiple && mergedOpenKeys.length && mergedMode !== 'inline') {\n      triggerOpenKeys(EMPTY_LIST);\n    }\n  }; // ========================= Open =========================\n\n  /**\n   * Click for item. SubMenu do not have selection status\n   */\n\n\n  var onInternalClick = (0, _useMemoCallback.default)(function (info) {\n    onClick === null || onClick === void 0 ? void 0 : onClick((0, _warnUtil.warnItemProp)(info));\n    triggerSelection(info);\n  });\n  var onInternalOpenChange = (0, _useMemoCallback.default)(function (key, open) {\n    var newOpenKeys = mergedOpenKeys.filter(function (k) {\n      return k !== key;\n    });\n\n    if (open) {\n      newOpenKeys.push(key);\n    } else if (mergedMode !== 'inline') {\n      // We need find all related popup to close\n      var subPathKeys = getSubPathKeys(key);\n      newOpenKeys = newOpenKeys.filter(function (k) {\n        return !subPathKeys.has(k);\n      });\n    }\n\n    if (!(0, _shallowequal.default)(mergedOpenKeys, newOpenKeys)) {\n      triggerOpenKeys(newOpenKeys);\n    }\n  });\n  var getInternalPopupContainer = (0, _useMemoCallback.default)(getPopupContainer); // ==================== Accessibility =====================\n\n  var triggerAccessibilityOpen = function triggerAccessibilityOpen(key, open) {\n    var nextOpen = open !== null && open !== void 0 ? open : !mergedOpenKeys.includes(key);\n    onInternalOpenChange(key, nextOpen);\n  };\n\n  var onInternalKeyDown = (0, _useAccessibility.default)(mergedMode, mergedActiveKey, isRtl, uuid, containerRef, getKeys, getKeyPath, setMergedActiveKey, triggerAccessibilityOpen, onKeyDown); // ======================== Effect ========================\n\n  React.useEffect(function () {\n    setMounted(true);\n  }, []); // ======================== Render ========================\n  // >>>>> Children\n\n  var wrappedChildList = mergedMode !== 'horizontal' || disabledOverflow ? childList : // Need wrap for overflow dropdown that do not response for open\n  childList.map(function (child, index) {\n    return (\n      /*#__PURE__*/\n      // Always wrap provider to avoid sub node re-mount\n      React.createElement(_MenuContext.default, {\n        key: child.key,\n        overflowDisabled: index > lastVisibleIndex\n      }, child)\n    );\n  }); // >>>>> Container\n\n  var container = /*#__PURE__*/React.createElement(_rcOverflow.default, (0, _extends2.default)({\n    id: id,\n    ref: containerRef,\n    prefixCls: \"\".concat(prefixCls, \"-overflow\"),\n    component: \"ul\",\n    itemComponent: _MenuItem.default,\n    className: (0, _classnames.default)(prefixCls, \"\".concat(prefixCls, \"-root\"), \"\".concat(prefixCls, \"-\").concat(mergedMode), className, (_classNames = {}, (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-inline-collapsed\"), mergedInlineCollapsed), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-rtl\"), isRtl), _classNames)),\n    dir: direction,\n    style: style,\n    role: \"menu\",\n    tabIndex: tabIndex,\n    data: wrappedChildList,\n    renderRawItem: function renderRawItem(node) {\n      return node;\n    },\n    renderRawRest: function renderRawRest(omitItems) {\n      // We use origin list since wrapped list use context to prevent open\n      var len = omitItems.length;\n      var originOmitItems = len ? childList.slice(-len) : null;\n      return /*#__PURE__*/React.createElement(_SubMenu.default, {\n        eventKey: _useKeyRecords2.OVERFLOW_KEY,\n        title: overflowedIndicator,\n        disabled: allVisible,\n        internalPopupClose: len === 0,\n        popupClassName: overflowedIndicatorPopupClassName\n      }, originOmitItems);\n    },\n    maxCount: mergedMode !== 'horizontal' || disabledOverflow ? _rcOverflow.default.INVALIDATE : _rcOverflow.default.RESPONSIVE,\n    ssr: \"full\",\n    \"data-menu-list\": true,\n    onVisibleChange: function onVisibleChange(newLastIndex) {\n      setLastVisibleIndex(newLastIndex);\n    },\n    onKeyDown: onInternalKeyDown\n  }, restProps)); // >>>>> Render\n\n  return /*#__PURE__*/React.createElement(_IdContext.IdContext.Provider, {\n    value: uuid\n  }, /*#__PURE__*/React.createElement(_MenuContext.default, {\n    prefixCls: prefixCls,\n    mode: mergedMode,\n    openKeys: mergedOpenKeys,\n    rtl: isRtl // Disabled\n    ,\n    disabled: disabled // Motion\n    ,\n    motion: mounted ? motion : null,\n    defaultMotions: mounted ? defaultMotions : null // Active\n    ,\n    activeKey: mergedActiveKey,\n    onActive: onActive,\n    onInactive: onInactive // Selection\n    ,\n    selectedKeys: mergedSelectKeys // Level\n    ,\n    inlineIndent: inlineIndent // Popup\n    ,\n    subMenuOpenDelay: subMenuOpenDelay,\n    subMenuCloseDelay: subMenuCloseDelay,\n    forceSubMenuRender: forceSubMenuRender,\n    builtinPlacements: builtinPlacements,\n    triggerSubMenuAction: triggerSubMenuAction,\n    getPopupContainer: getInternalPopupContainer // Icon\n    ,\n    itemIcon: itemIcon,\n    expandIcon: expandIcon // Events\n    ,\n    onItemClick: onInternalClick,\n    onOpenChange: onInternalOpenChange\n  }, /*#__PURE__*/React.createElement(_PathContext.PathUserContext.Provider, {\n    value: pathUserContext\n  }, container), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'none'\n    },\n    \"aria-hidden\": true\n  }, /*#__PURE__*/React.createElement(_PathContext.PathRegisterContext.Provider, {\n    value: registerPathContext\n  }, childList))));\n};\n\nvar _default = Menu;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}